(function(e){e.fn.stacks=function(t){var n=e.extend({body:".stickyparent",title:".header",margin:0},t);e.each(this.find(n.body+" "+n.title),function(t,r){e(window).resize(function(){e.each(e(n.body+" "+n.title),function(t,n){var r=e(n).offset();$offset=r.left;$paddleft=e(n).css("padding-left").substring(0,e(n).css("padding-left").indexOf("p"));$paddright=e(n).css("padding-right").substring(0,e(n).css("padding-left").indexOf("p"));$width=e(n).parent().width()-$paddleft-$paddright;e(n).css({left:$offset,width:$width})})});var i=e(r).offset();e(window).scroll(function(){if(e(window).scrollTop()+e(r).outerHeight(true)>=e(r).closest(n.body).offset().top+e(r).closest(n.body).outerHeight(true)+n.margin){e(r).removeClass("fixed").addClass("absolute").removeAttr("style")}else if(e(document).scrollTop()>=i.top){$offset=i.left;$awidth=e(r).width();e(r).removeClass("absolute").addClass("fixed").css({left:$offset,width:$awidth});if(e(r).siblings("#filler").length<1){e('<div id="filler" />').css("height",e(r).outerHeight(true)).insertAfter(e(r))}}else{e(r).removeClass("fixed");e(r).removeAttr("style");e(r).siblings("#filler").remove()}})})}})(jQuery)